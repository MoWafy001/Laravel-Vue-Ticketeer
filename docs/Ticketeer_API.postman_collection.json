{
    "info": {
        "_postman_id": "ticketeer-api-collection",
        "name": "Ticketeer API",
        "description": "Complete API collection for Ticketeer ticket booking system with JWT authentication",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "token",
                "value": "{{auth_token}}",
                "type": "string"
            }
        ]
    },
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:8000/api",
            "type": "string"
        },
        {
            "key": "auth_token",
            "value": "",
            "type": "string"
        },
        {
            "key": "organizer_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "buyer_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "company_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "event_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "ticket_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "order_id",
            "value": "",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "Authentication",
            "item": [
                {
                    "name": "Organizer Register",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('auth_token', response.data.token);",
                                    "    pm.collectionVariables.set('organizer_id', response.data.organizer.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"John Doe\",\n    \"email\": \"organizer@example.com\",\n    \"password\": \"password123\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/auth/organizer/register",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "organizer",
                                "register"
                            ]
                        }
                    }
                },
                {
                    "name": "Organizer Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('auth_token', response.data.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"organizer@example.com\",\n    \"password\": \"password123\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/auth/organizer/login",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "organizer",
                                "login"
                            ]
                        }
                    }
                },
                {
                    "name": "Buyer Register",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('auth_token', response.data.token);",
                                    "    pm.collectionVariables.set('buyer_id', response.data.buyer.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Jane Smith\",\n    \"email\": \"buyer@example.com\",\n    \"password\": \"password123\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/auth/buyer/register",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "buyer",
                                "register"
                            ]
                        }
                    }
                },
                {
                    "name": "Buyer Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('auth_token', response.data.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"buyer@example.com\",\n    \"password\": \"password123\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/auth/buyer/login",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "buyer",
                                "login"
                            ]
                        }
                    }
                },
                {
                    "name": "Logout",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/auth/logout",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "logout"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Organizer",
            "item": [
                {
                    "name": "Get Profile",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/organizer/profile",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "organizer",
                                "profile"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Profile",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"John Updated\",\n    \"email\": \"organizer.new@example.com\",\n    \"password\": \"newpassword123\",\n    \"current_password\": \"password123\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/organizer/profile",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "organizer",
                                "profile"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Companies",
            "item": [
                {
                    "name": "List Companies",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/companies?per_page=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies"
                            ],
                            "query": [
                                {
                                    "key": "per_page",
                                    "value": "20"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Create Company",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('company_id', response.data.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Tech Events Inc\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/companies",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Company",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/companies/{{company_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "{{company_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Company",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Tech Events Inc - Updated\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/companies/{{company_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "{{company_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Delete Company",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/companies/{{company_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "{{company_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Company Analytics",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/companies/{{company_id}}/analytics",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "{{company_id}}",
                                "analytics"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Company Members",
            "item": [
                {
                    "name": "List Members",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/companies/{{company_id}}/members",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "{{company_id}}",
                                "members"
                            ]
                        }
                    }
                },
                {
                    "name": "Add Member",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"organizer_id\": \"{{organizer_id}}\",\n    \"can_view_analytics\": true,\n    \"can_manage_members\": false,\n    \"can_manage_settings\": false,\n    \"can_create_events\": true,\n    \"can_manage_all_events\": false,\n    \"can_manage_wallet\": false\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/companies/{{company_id}}/members",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "{{company_id}}",
                                "members"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Member",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/companies/{{company_id}}/members/:member_id",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "{{company_id}}",
                                "members",
                                ":member_id"
                            ],
                            "variable": [
                                {
                                    "key": "member_id",
                                    "value": ""
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Update Member Permissions",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"can_view_analytics\": true,\n    \"can_manage_members\": true,\n    \"can_create_events\": true,\n    \"can_manage_all_events\": true\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/companies/{{company_id}}/members/:member_id",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "{{company_id}}",
                                "members",
                                ":member_id"
                            ],
                            "variable": [
                                {
                                    "key": "member_id",
                                    "value": ""
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Remove Member",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/companies/{{company_id}}/members/:member_id",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "{{company_id}}",
                                "members",
                                ":member_id"
                            ],
                            "variable": [
                                {
                                    "key": "member_id",
                                    "value": ""
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Events",
            "item": [
                {
                    "name": "List Events (Public)",
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/events?search=&company_id=&status=upcoming&sort_by=start_time&sort_order=asc&per_page=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events"
                            ],
                            "query": [
                                {
                                    "key": "search",
                                    "value": ""
                                },
                                {
                                    "key": "company_id",
                                    "value": ""
                                },
                                {
                                    "key": "status",
                                    "value": "upcoming",
                                    "description": "upcoming, ongoing, past, on_sale"
                                },
                                {
                                    "key": "sort_by",
                                    "value": "start_time"
                                },
                                {
                                    "key": "sort_order",
                                    "value": "asc"
                                },
                                {
                                    "key": "per_page",
                                    "value": "20"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Create Event",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('event_id', response.data.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"company_id\": \"{{company_id}}\",\n    \"name\": \"Tech Conference 2025\",\n    \"description\": \"Annual technology conference featuring latest innovations\",\n    \"start_time\": \"2025-06-15 09:00:00\",\n    \"end_time\": \"2025-06-15 18:00:00\",\n    \"sale_start_time\": \"2025-05-01 00:00:00\",\n    \"sale_end_time\": \"2025-06-14 23:59:59\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/events",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Event (Public)",
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/events/{{event_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events",
                                "{{event_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Event",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Tech Conference 2025 - Updated\",\n    \"description\": \"Updated description\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/events/{{event_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events",
                                "{{event_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Delete Event",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/events/{{event_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events",
                                "{{event_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Event Analytics",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/events/{{event_id}}/analytics",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events",
                                "{{event_id}}",
                                "analytics"
                            ]
                        }
                    }
                },
                {
                    "name": "Event Attendees",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/events/{{event_id}}/attendees?per_page=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events",
                                "{{event_id}}",
                                "attendees"
                            ],
                            "query": [
                                {
                                    "key": "per_page",
                                    "value": "20"
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Event Members",
            "item": [
                {
                    "name": "List Event Members",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/events/{{event_id}}/members",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events",
                                "{{event_id}}",
                                "members"
                            ]
                        }
                    }
                },
                {
                    "name": "Assign Member to Event",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"member_id\": \"company_member_id_here\",\n    \"can_edit_details\": false,\n    \"can_manage_tickets\": true,\n    \"can_view_analytics\": true,\n    \"can_view_buyer_contacts\": false,\n    \"can_cancel_tickets\": false,\n    \"can_scan_tickets\": true\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/events/{{event_id}}/members",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events",
                                "{{event_id}}",
                                "members"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Event Member Permissions",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"can_edit_details\": true,\n    \"can_manage_tickets\": true,\n    \"can_scan_tickets\": true\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/events/{{event_id}}/members/:member_id",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events",
                                "{{event_id}}",
                                "members",
                                ":member_id"
                            ],
                            "variable": [
                                {
                                    "key": "member_id",
                                    "value": ""
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Remove Event Member",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/events/{{event_id}}/members/:member_id",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events",
                                "{{event_id}}",
                                "members",
                                ":member_id"
                            ],
                            "variable": [
                                {
                                    "key": "member_id",
                                    "value": ""
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Tickets",
            "item": [
                {
                    "name": "List Event Tickets",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/events/{{event_id}}/tickets",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events",
                                "{{event_id}}",
                                "tickets"
                            ]
                        }
                    }
                },
                {
                    "name": "Create Ticket Type",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('ticket_id', response.data.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"code\": \"VIP-001\",\n    \"type\": \"VIP Pass\",\n    \"price\": 299.99,\n    \"quantity\": 50\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/events/{{event_id}}/tickets",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "events",
                                "{{event_id}}",
                                "tickets"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Ticket Type",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/tickets/{{ticket_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "tickets",
                                "{{ticket_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Ticket Type",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"price\": 349.99,\n    \"quantity\": 75\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/tickets/{{ticket_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "tickets",
                                "{{ticket_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Delete Ticket Type",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/tickets/{{ticket_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "tickets",
                                "{{ticket_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Scan Ticket",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"qr_code\": \"ticket_qr_code_here\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/tickets/scan",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "tickets",
                                "scan"
                            ]
                        }
                    }
                },
                {
                    "name": "Cancel Ticket (Organizer)",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"reason\": \"Event cancelled\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/organizer/tickets/:bought_ticket_id/cancel",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "organizer",
                                "tickets",
                                ":bought_ticket_id",
                                "cancel"
                            ],
                            "variable": [
                                {
                                    "key": "bought_ticket_id",
                                    "value": ""
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Buyer",
            "item": [
                {
                    "name": "Get Buyer Profile",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/buyer/profile",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "buyer",
                                "profile"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Buyer Profile",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Jane Updated\",\n    \"email\": \"buyer.new@example.com\",\n    \"password\": \"newpassword123\",\n    \"current_password\": \"password123\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/buyer/profile",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "buyer",
                                "profile"
                            ]
                        }
                    }
                },
                {
                    "name": "List My Tickets",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/buyer/tickets?status=valid&per_page=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "buyer",
                                "tickets"
                            ],
                            "query": [
                                {
                                    "key": "status",
                                    "value": "valid",
                                    "description": "valid, used, cancelled, pending"
                                },
                                {
                                    "key": "per_page",
                                    "value": "20"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get Ticket Details",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/buyer/tickets/:ticket_id",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "buyer",
                                "tickets",
                                ":ticket_id"
                            ],
                            "variable": [
                                {
                                    "key": "ticket_id",
                                    "value": ""
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Download Ticket PDF",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/buyer/tickets/:ticket_id/pdf",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "buyer",
                                "tickets",
                                ":ticket_id",
                                "pdf"
                            ],
                            "variable": [
                                {
                                    "key": "ticket_id",
                                    "value": ""
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Cancel Ticket (Buyer)",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/buyer/tickets/:ticket_id/cancel",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "buyer",
                                "tickets",
                                ":ticket_id",
                                "cancel"
                            ],
                            "variable": [
                                {
                                    "key": "ticket_id",
                                    "value": ""
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Orders",
            "item": [
                {
                    "name": "Create Order",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('order_id', response.data.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"items\": [\n        {\n            \"ticket_id\": \"{{ticket_id}}\",\n            \"quantity\": 2\n        }\n    ]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/orders",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "orders"
                            ]
                        }
                    }
                },
                {
                    "name": "List Orders",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/orders?per_page=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "orders"
                            ],
                            "query": [
                                {
                                    "key": "per_page",
                                    "value": "20"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get Order",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/orders/{{order_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "orders",
                                "{{order_id}}"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Payments",
            "item": [
                {
                    "name": "Create Checkout Session",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"order_id\": \"{{order_id}}\",\n    \"payment_method\": \"card\",\n    \"return_url\": \"https://example.com/payment/success\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/payments/checkout",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "payments",
                                "checkout"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Payment",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/payments/:payment_id",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "payments",
                                ":payment_id"
                            ],
                            "variable": [
                                {
                                    "key": "payment_id",
                                    "value": ""
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Webhook (Stripe)",
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"type\": \"checkout.session.completed\",\n    \"data\": {\n        \"object\": {\n            \"id\": \"session_id_here\"\n        }\n    }\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/payments/webhook",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "payments",
                                "webhook"
                            ]
                        }
                    }
                }
            ]
        }
    ]
}